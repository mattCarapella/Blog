@page "{id}"
@model Blog.Areas.Articles.Pages.DetailsModel

@{
    ViewData["Title"] = @Model.Article.Title;
}

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Details</title>
    </head>
    <body>
        <div>
            <h4>Article</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Article.Title)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Article.Title)
                </dd>
                @if (@Model.Article.Author is not null)
                {
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.Author)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Article.Author!.FullName)
                    </dd>
                }
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Article.Entry)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Article.Entry)
                </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.Level)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Article.Level)
                    </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Article.Status)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Article.Status)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Article.Images)
                </dt>
                <dd class="col-sm-10">
                    @Model.Article.Images!.Count()
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Article.CreatedAt)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Article.CreatedAt)
                </dd>
                @if (@Model.Article.UpdatedAt is not null)
                {
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.UpdatedAt)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Article.UpdatedAt)
                    </dd>   
                }
                @if (@Model.Article.PublishedAt is not null)
                {
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.PublishedAt)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Article.PublishedAt)
                    </dd>        
                } 
                @if (@Model.Article.Tags!.Any())
                {
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.Tags)
                    </dt>
                    <dd class="col-sm-10">
                        @foreach (var tag in @Model.Article.Tags!)
                        {
                           <p>
                               <a a asp-area="Tags" asp-page="./Details" asp-route-id="@tag.Id">@tag.Name</a>
                           </p> 
                        }
                    </dd>        
                }
                @if (@Model.Article.Categories!.Any())
                {
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Article.Categories)
                    </dt>
                    <dd class="col-sm-10">
                        @foreach (var cat in @Model.Article.Categories!)
                        {
                           <p>
                               <a a asp-area="Categories" asp-page="./Details" asp-route-id="@cat.Id">@cat.Name</a>
                           </p> 
                        }
                    </dd>        
                }
            </dl>
        </div>
        <div>
            <a asp-page="./Edit" asp-route-id="@Model.Article?.Id">Edit</a> |
            <a asp-page="./Index">Back to List</a>
        </div>
    </body>
</html>
